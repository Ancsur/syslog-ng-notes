commit ccce847eeadb7cd6ff5b1a3af440c68c21ecc2ff
Merge: 8a717c7 21d23d0
Author: Budai Laszlo <laszlo.budai@balabit.com>
Date:   Fri Feb 12 19:02:25 2016 +0100

    Merge pull request #925 from MrAnno/f/patterndb_deadlock-3.7
    
    Fix possible deadlock in patterndb

commit 21d23d02dfb1f472a2a42bfac184b9fff8d1158d
Author: Juhász Viktor <viktor.juhasz@balabit.com>
Date:   Mon Dec 21 10:12:44 2015 +0100

    patterndb: the set emit function is possible to callback to the mainloop.
    
    But if the mainloop currently runs the tick_timer of the patterndb,
    it causes deadlock, because the timer wait for the patterndb's lock (held by the _pattern_db_process)
    and the emit function waits for the mainloop.
    
    Solution is, that unlock the lock, while the emit functions are run
    
    Signed-off-by: Juhász Viktor <viktor.juhasz@balabit.com>


